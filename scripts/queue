#!/bin/bash
file="$(mktemp)"
chmod +x "$file"

# -- ARGS
while getopts ":b:" opt; do
case ${opt} in
    b ) # process option g
      b=$OPTARG;;
    \? ) # Extra flags
      echo "Usage: queue [-b prepend] < commands">/dev/stderr && exit;;
  esac
done
shift $((OPTIND -1))

# -- RUN
read c
while [ "$c" != "" ]
do
	echo "$b $c" >>"$file"
	read c
done
"$file"
